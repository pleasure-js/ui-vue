/*!
 * @pleasure-js/ui-vue v1.0.0
 * (c) 2018-2020 Martin Rafael Gonzalez <tin@devtin.io>
 * Released under the MIT License.
 */
var VuePleasure=function(e,t,a,n,s,i,r,l,o,d,c,p,u,f,m,h,v){'use strict';function y(e,t,a,n,s,i,r,l,o,d){"boolean"!=typeof r&&(o=l,l=r,r=!1);const c="function"==typeof a?a.options:a;e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),n&&(c._scopeId=n);let p;if(i?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=p):t&&(p=r?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),p)if(c.functional){const e=c.render;c.render=function(t,a){return p.call(a),e(t,a)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,p):[p]}return a}function b(){this.refreshInput()}function _(e,t){return t={exports:{}},e(t,t.exports),t.exports}function g(e,{app:t,store:n,noCoerce:s=!1}={}){if(e.use(ke),e.prototype.$pleasureApiClient=G,console.log(`store${n?"":" NOT"} provided`,{store:n}),n?n.registerModule("pleasure",W,{preserveState:!1}):(e.use(h),n=new h.Store({modules:{pleasure:W}})),G.on("login",e=>{Y.set("accessToken",G.accessToken),n.commit("pleasure/setUser",e)}),G.on("logout",()=>{Y.remove("accessToken"),n.commit("pleasure/setUser",null)}),process.client){const e=new Q,t=()=>(e.clearAll(),n.dispatch("pleasure/clearDropdowns"),n.dispatch("pleasure/syncEntities"));G.cache(e),G.on("logout",t),G.on("login",t)}s||e.mixin(m);const i=v(Ce,(e,t)=>a(t));console.log({kebabKeyedComponents:i});const r=Object.assign({},i,{pleasure:z});console.log({components:r}),e.mixin({components:r,filters:{lang(e){return e}},computed:{$pleasure(){const e=this;return{error(t){e.$message({message:e.$t(t),type:"error"})},api:G,settings:n.getters["pleasure/settings"],dropdown:n.getters["pleasure/dropdown"],entities:n.getters["pleasure/entities"],user:n.getters["pleasure/user"],setHeadbarTitle(e){ee.$emit("pleasure-headbar",{exec:["setTitle",e]})},bus:ee}}}}),G.on("profile-update",e=>{n.dispatch("pleasure/changeUserProfile",e)}),process.client&&(n.dispatch("pleasure/syncEntities"),G.on("update",e=>{n.dispatch("pleasure/dropdownChanged",e)}),G.on("create",({entity:e})=>{n.dispatch("pleasure/syncDropdown",{entity:e,force:!0})}),G.on("delete",({entity:e})=>{n.dispatch("pleasure/syncDropdown",{entity:e,force:!0})}))}t=t&&t.hasOwnProperty("default")?t["default"]:t,a=a&&a.hasOwnProperty("default")?a["default"]:a,n=n&&n.hasOwnProperty("default")?n["default"]:n,s=s&&s.hasOwnProperty("default")?s["default"]:s,i=i&&i.hasOwnProperty("default")?i["default"]:i,r=r&&r.hasOwnProperty("default")?r["default"]:r,l=l&&l.hasOwnProperty("default")?l["default"]:l,o=o&&o.hasOwnProperty("default")?o["default"]:o,d=d&&d.hasOwnProperty("default")?d["default"]:d,p=p&&p.hasOwnProperty("default")?p["default"]:p,u=u&&u.hasOwnProperty("default")?u["default"]:u,f=f&&f.hasOwnProperty("default")?f["default"]:f,m=m&&m.hasOwnProperty("default")?m["default"]:m,h=h&&h.hasOwnProperty("default")?h["default"]:h,v=v&&v.hasOwnProperty("default")?v["default"]:v;var $={props:{i18nScope:{type:String,default:null},formId:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{formComponent(){return"el-form"}}};const w="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pleasure-form"},[a(e.formComponent,{key:e.formId,tag:"component",on:{input:function(t){return e.$emit("input",t)}}},[e._t("default")],2)],1)};S._withStripped=!0;const C=y({render:S,staticRenderFns:[]},void 0,$,void 0,!1,void 0,!1,void 0,void 0,void 0);var k={props:{i18nScope:{type:String,default:null},field:{type:Object,required:!0}},computed:{theProps(){const e={};return"array"===this.componentType&&Object.assign(e,{options:this.field.enumValues}),Object.assign({},this.$props,e,get(this.field,"$pleasure",{}))},fieldContainer(){return"element-ui"===this.$pleasure.settings.ui?"el-form-item":"div"}}};var x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pleasure-field-container"},[a(e.fieldContainer,{tag:"component",attrs:{required:e.field.$pleasure.required,disabled:e.field.$pleasure.disabled,label:e.field.$pleasure.label}},[e._t("default")],2)],1)};x._withStripped=!0;const O=y({render:x,staticRenderFns:[]},void 0,k,void 0,!1,void 0,!1,void 0,void 0,void 0);var T={props:{i18nScope:{type:String,default:null},formValues:{type:Object,default:void 0},value:{type:[String,Number,Object,Array,Date,Boolean],default:""},field:{type:Object,required:!0}},data(){return{defaultProps:{"el-slider":{range:!0,showStops:!0,max:10}}}},computed:{theProps(){const e={};return"array"===this.componentType&&Object.assign(e,{options:this.field.enumValues}),i.all([{},this.$props,this.defaultProps[this.fieldComponent]||{},e,s(this.field,"$pleasure",{})])},componentType(){const e=s(this.field,"$pleasure.component",s(this.field,"component"));return!e&&(this.field.enumValues&&0<this.field.enumValues.length||"Array"===this.field.instance)?"array":a(e||"input")},fieldComponent(){switch(this.componentType){case"array":return"pleasure-select";case"multiple-select":return"pleasure-multiple-select";case"date":return"el-date-picker";case"date-time":return"pleasure-date-time";case"range":return"el-slider";default:return"el-input";}}}};var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pleasure-field"},[a(e.fieldComponent,e._b({tag:"component",attrs:{name:e.field.path},on:{input:function(t){return e.$emit("input",t||null)}}},"component",e.theProps,!1))],1)};E._withStripped=!0;const P=y({render:E,staticRenderFns:[]},void 0,T,void 0,!1,void 0,!1,void 0,void 0,void 0);var L={props:{actionCallback:{type:Function,default(){}},cancelCallback:{type:Function,default(){}},actionLabel:{type:String,default:"Create"},cancelLabel:{type:String,default:"Cancel"},formVisible:{type:Boolean,default:!0},actionDisabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:`messages.loading`},method:{type:String,required:!0},cancelable:{type:Boolean,required:!0}}};var M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pleasure-form-controls"},[e.formVisible?a("el-button",{staticClass:"full-btn",attrs:{name:"update"===e.method?"update":"create",disabled:e.actionDisabled,loading:e.loading,type:"primary","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.actionCallback(t)}}},[e._v("\n    "+e._s(e._f("lang")(e.actionLabel))+"\n  ")]):e._e(),e._v(" "),e.cancelable?a("el-button",{staticClass:"full-btn",nativeOn:{click:function(t){return t.preventDefault(),e.cancelCallback(t)}}},[e._v("\n    "+e._s(e.cancelLabel)+"\n  ")]):e._e()],1)};M._withStripped=!0;const N=y({render:M,staticRenderFns:[]},void 0,L,void 0,!1,void 0,!1,void 0,void 0,void 0);var I={props:{entity:{type:String,required:!0}},methods:{getFilter(e){const t=this.$pleasure.entities[this.entity][e];return this.isEnum(e)?t.enumValues.map(e=>{const t=`entities.enum.${e}`,a=this.$t(t);return{label:t===a?e:a,value:e}}):void 0},isEnum(e){const t=this.$pleasure.entities[this.entity][e];return t.enumValues&&0<t.enumValues.length},getSortIcon(e){return null===e?"el-icon-d-caret":-1===e?"el-icon-caret-bottom":"el-icon-caret-top"},guessLabel(e,t=`entities.label`){const a=`${t}.${e}`,s=this.$t(a);return a===s?n(e):s}}};class D{constructor({entity:e,store:t,dropdownName:a,prefix:n="pleasure"}){this._entity=e,this._dropdownName=a,this._store=t,this._find={},this._search=null,this._skip=null,this._limit=null,this._synced=!0,this._prefix=n,this.defaultLimit=process.env.PLEASURE_API_COLLECTION_LIST_LIMIT,console.log(`defaultLimit`,this.defaultLimit)}static debug(e){}get prefix(){return this._prefix?`${this._prefix}/`:""}get entity(){return this._entity}get dropdownName(){return this._dropdownName||this.entity}get store(){return this._store}get find(){return this._find}get sort(){return void 0===this._sort?s(this.meta,"sort"):this._sort}set sort(e){return e!==this.sort&&(this._synced=!1),this._sort=e}set find(e){return o(e,this._find)||(this._synced=!1),this._find=e,this._find}get meta(){return this.store.getters[`${this.prefix}dropdownMeta`][this.dropdownName]}get search(){return null===this._search?s(this.meta,"search"):this._search}set search(e){return e!==this.search&&(this._synced=!1),this._search=e}get skip(){return this._skip||s(this.meta,`skip`,0)}set skip(e){return e!==this.skip&&(this._synced=!1),this._skip=e}get limit(){return this._limit||s(this.meta,`limit`)}set limit(e){return e!==this.limit&&(this._synced=!1),this._limit=e}get page(){var e=Math.ceil;return(e(this.skip/(this.limit||this.defaultLimit))||0)+1}set page(e){1>e||(this.skip=(e-1)*(this.limit||this.defaultLimit))}get data(){return console.log(`accessing data from ${this.prefix}dropdown`,this.store.getters[`${this.prefix}dropdown`],`for`,this.dropdownName),this.store.getters[`${this.prefix}dropdown`][this.dropdownName]}sync(e=!1){if(!e&&this._synced)return this.data;const{find:t,entity:a,limit:n,skip:s,search:i,sort:r}=this;return this.store.dispatch(`${this.prefix}loadDropdown`,{entity:a,force:!0,listOptions:{find:t,limit:n,skip:s,search:i,sort:r}})}prev(){return this.page--,this.sync()}next(){return this.page++,this.sync()}}var F={mixins:[I],data(){return{enumValue:[],filter:null,filterType:null,sort:this.value.sort}},methods:{filterHandler(){Object.assign(this.manager.find,{[this.fieldName]:{$in:this.enumValue}}),console.log(`filter handler`,this.manager.find),this.$emit("refresh-results")},refreshInput(){this.$emit("input",{type:this.filterType,value:this.filter,sort:this.sort}),this.$emit("refresh-results")},toggleSort(){this.sort=null===this.sort?1:1===this.sort?-1:null,this.refreshInput()}},props:{fieldName:{type:String,required:!0},manager:{type:D},value:{required:!0,type:Object,default(){return{}}}},watch:{filter:b,filterType(){b.call(this),this.$nextTick(()=>{this.$refs.field&&(console.log(`focusing`,this.$refs.field),this.$refs.field.focus())})},sort:b}};var R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"table-edit-filter",attrs:{gutter:10}},[a("el-col",{attrs:{span:8,gutter:10}},[a("el-button",{staticClass:"plain",attrs:{icon:e.getSortIcon(e.sort),size:"mini",circle:""},on:{click:e.toggleSort}}),e._v("\n    "+e._s(e.guessLabel(e.fieldName))+"\n  ")],1),e._v(" "),a("el-col",{attrs:{span:16}},[e.isEnum(e.fieldName)?a("el-select",{attrs:{placeholder:"Select",size:"mini",multiple:""},on:{input:e.filterHandler},model:{value:e.enumValue,callback:function(t){e.enumValue=t},expression:"enumValue"}},e._l(e.getFilter(e.fieldName),function(e){return a("el-option",{attrs:{value:e.value,label:e.label}})}),1):a("el-input",{ref:"field",attrs:{clearable:!0,disabled:!e.filterType,size:"mini"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("el-select",{staticStyle:{width:"70px"},attrs:{slot:"prepend",size:"mini"},slot:"prepend",model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}},[a("el-option",{attrs:{label:"--",value:null}}),e._v(" "),a("el-option",{attrs:{label:"Equals",value:"equals"}}),e._v(" "),a("el-option",{attrs:{label:"Like",value:"like"}})],1)],1)],1)],1)};R._withStripped=!0;const j=y({render:R,staticRenderFns:[]},void 0,F,void 0,!1,void 0,!1,void 0,void 0,void 0),A={type:Function,default(){return()=>{}}};var V={components:{TableEditFilter:j},mixins:[I],props:{customBehavior:{type:Boolean,default:!1},waitBeforeSearch:{type:Number,default:300},tableTop:{type:Number,default:0},searchBy:Array,searchStrict:{type:Boolean,default:!1},defaultSort:{type:Object},withSearch:{type:Boolean,default:!0},canEdit:Boolean,canAdd:{type:Boolean,default:!0},canDelete:{type:Boolean,default:!1},cellClick:A,rowClick:{type:[Function,Boolean],default:!0},rowClassName:Function,action:A,appendData:Object},data(){return{promptAdd:!1,eleMeta:{advancedSearchControls:0,filterControls:0,sortControls:0},filterData:{},advancedSearchControls:!1,sortControls:!1,filterControls:!1,filter:{advancedSearchControls:{type:null,value:null},sortControls:{type:null,value:null},filterControls:{type:null,value:null}},loadingMore:!1,sort:null,tableScroll:null,manager:null,searchResults:null,selections:[],search:null,searching:!1,searchHandler:l(()=>{this.doSearch(this.search)},this.waitBeforeSearch)}},computed:{empty(){return this.searching?`Looking for entries containing "${this.search}" in ${this.entity}`:this.search?`No entries matching "${this.search}" found in ${this.entity}`:`No entries found in ${this.entity}`},indexes(){return this.$pleasure.entities[this.entity]&&this.$pleasure.entities[this.entity].$pleasure.index?r(this.$pleasure.entities[this.entity].$pleasure.index.search.concat(this.$pleasure.entities[this.entity].$pleasure.index.sort).filter(e=>"_id"!==e)):[]},fields(){return this.indexes},sortValue(){return this.sort?{[this.sort.prop]:"ascending"===this.sort.order?1:-1}:null},tableStyle(){let e=this.tableTop;return this.withSearch&&(e+=40),this.filterControls&&(e+=this.eleMeta.filterControls),this.withSearch?{top:`${e}px`}:null},datatable(){return this.$store.getters["pleasure/dropdown"][this.entity]||[]},safeLookUp(){return l(this.lookUp.bind(this),150)}},mounted(){this.manager=new D({entity:this.entity,store:this.$store}),this.indexes.forEach(e=>{this.$set(this.filterData,e,{type:null,value:null,sort:null}),this.$set(this.filterData,`$sort`,[])});const e=["advancedSearchControls","sortControls","filterControls"];e.forEach(e=>{this[e]=!0}),this.$nextTick(()=>{e.forEach(e=>{try{this.eleMeta[e]=this.$refs[a(e)].offsetHeight}catch(t){console.log(e,t)}this[e]=!1})})},watch:{search(e){this.searching=!!e}},methods:{applyFilter(){return this.syncManager()},toggleSort(e){const t=this.filterData.$sort.filter(t=>Object.keys(t)[0]!==e);return null!==this.filterData[e].sort&&t.push({[e]:this.filterData[e].sort}),console.log({newSort:t}),this.$set(this.filterData,"$sort",t),console.log(`this.filterData.$sort`,this.filterData.$sort),this.syncManager()},doSearch(e){return this.manager.search=e,this.syncManager()},async syncManager(){this.searching=!0;const e=this.manager.find;0<Object.keys(this.filterData).length&&Object.keys(this.filterData).forEach(t=>{if(this.filterData[t].type&&this.filterData[t].value)try{e[t]="equals"===this.filterData[t].type?this.filterData[t].value:new RegExp(this.filterData[t].value,"i")}catch(a){e[t]=this.filterData[t].value}else e[t]&&!this.isEnum(t)&&delete e[t]}),this.manager.find=e,this.manager.sort=this.filterData.$sort,await this.manager.sync(),this.searching=!1},filterPropertyHandler(t,a){this.searchHandler(a)},async reload(){return this.entity?this.loadMore(!0):void 0},getSearch(){let e={};if(!this.searchBy||0===this.searchBy.length)e={search:this.search};else if(this.search){const t={};this.searchBy.forEach(e=>{t[e]=this.search}),e={find:t,strict:this.searchStrict.toString()}}return e},handleSortChange(e){return this.manager.sort={[e.prop]:"ascending"===e.order?1:-1},this.syncManager()},promptCreate(){this.promptAdd=!this.promptAdd},handleDeleteSelection(){this.$confirm(this.$t("confirm.remove.default")).then(()=>{this.deleteSelection()}).catch(()=>{})},async lookUp(){if(!this.search)return this.$set(this,"searchResults",null);this.searching=!0;try{const{data:e}=await this.$store.dispatch("db/api",{model:this.entity,params:this.appendData,...this.getSearch()});this.$set(this,"searchResults",e)}catch(e){}finally{this.searching=!1}},async deleteSelection(){this.loading=!0;const e=this.selections.map(e=>e._id),t=this.entity,{errorObj:a}=await this.$store.dispatch("db/api",{model:t,remove:e,ctx:this});this.$emit("deleted",e),a||(await this.$store.dispatch(`db/dropdown`,{model:t})),this.loading=!1},filterTag(e,t){return t.type===e},handleSelectionChange(e){this.$set(this,"selections",e||[])},handleRowClick(e,t,a){return!1===this.rowClick?void 0:"function"==typeof this.rowClick?this.rowClick(e,t,a):void this.$router.push({path:`/pleasure/update/${this.entity}/${e._id}`})},handleCellClick(e,t,a){if(this.cellClick)return this.cellClick(e,t,a)}}};var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{content:!0,"with-search":e.withSearch,"pleasure-table-edit":!0,"friendly-table":!0,"can-add":e.canAdd}},[a("div",{staticClass:"controls"},[e._t("controls"),e._v(" "),e.withSearch?a("el-row",[a("el-col",{staticClass:"search-col"},[a("el-input",{staticClass:"search-input",attrs:{clearable:!0,spellcheck:"false",autocomplete:"off",placeholder:"Search",name:"search"},on:{input:e.searchHandler},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("el-col",{staticClass:"controls-col"},[a("el-button",{staticClass:"plain",attrs:{icon:e.searching?"el-icon-loading":"el-icon-search"},on:{click:function(){e.advancedSearchControls=!e.advancedSearchControls}}}),e._v(" "),a("el-button",{staticClass:"plain",attrs:{icon:"el-icon-s-operation"},on:{click:function(){e.filterControls=!e.filterControls}}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"search-controls"},[e.advancedSearchControls?a("div",{ref:"advanced-search-controls",staticClass:"advanced-search control"},[e._l(e.indexes,function(t){return[e._v("\n          "+e._s(t)+"\n        ")]})],2):e._e(),e._v(" "),e.filterControls?a("div",{ref:"filter-controls",staticClass:"filters control"},e._l(e.indexes,function(t){return a("table-edit-filter",{attrs:{entity:e.entity,"field-name":t,manager:e.manager},on:{"refresh-results":function(){return e.toggleSort(t)}},model:{value:e.filterData[t],callback:function(a){e.$set(e.filterData,t,a)},expression:"filterData[fieldName]"}})}),1):e._e(),e._v(" "),e.sortControls?a("div",{ref:"sort-controls",staticClass:"sort control"},[e._l(e.indexes,function(t){return[e._v("\n          "+e._s(t)+"\n        ")]})],2):e._e()])],2),e._v(" "),a("el-table",{ref:"tb",staticClass:"the-table",style:e.tableStyle,attrs:{"default-sort":e.defaultSort,height:"100%",data:e.datatable,stripe:"","tooltip-effect":"dark","highlight-current-row":"","row-class-name":"pleasure-row","row-class-name":e.rowClassName,"empty-text":e.empty},on:{"cell-click":e.handleCellClick,"row-click":e.handleRowClick,"selection-change":e.handleSelectionChange}},[e.canDelete?a("el-table-column",{attrs:{type:"selection",width:"35"}}):e._e(),e._v(" "),e._l(e.fields,function(t){return a("el-table-column",{attrs:{prop:t,label:e.guessLabel(t),"min-width":"180","column-key":t},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(e.isEnum(t)?e.guessLabel(a.row[t],"entities.enum"):a.row[t])+"\n      ")]}}],null,!0)})})],2),e._v(" "),e.canAdd?a("el-button",{staticClass:"add-btn",attrs:{name:"add",icon:"el-icon-plus",circle:""},on:{click:e.promptCreate}}):e._e(),e._v(" "),0<e.selections.length&&e.canDelete?a("el-button",{staticClass:"delete-btn",attrs:{name:"delete",icon:"el-icon-minus",circle:""},on:{click:e.handleDeleteSelection}}):e._e(),e._v(" "),a("pleasure",{key:e.id,class:{prompt:!0,on:e.promptAdd},attrs:{entity:e.entity,method:"create"},on:{cancel:function(){e.promptAdd=!1}}})],1)};q._withStripped=!0;const B=y({render:q,staticRenderFns:[]},void 0,V,void 0,!1,void 0,!1,void 0,void 0,void 0);var H={components:{PleasureForm:C,PleasureFieldContainer:O,PleasureField:P,PleasureFormControls:N,PleasureTableEdit:B},props:{omit:{type:Array,default(){return[]}},multipleLines:{type:Boolean,default:!0},controller:{type:String,default:null},guessLabel:{type:Boolean,default:!0},guessPlaceholder:{type:Boolean,default:!0},actionLabel:{type:String,default:"Create"},autoLabelI18n:{type:Boolean,default:!0},autoPlaceholderI18n:{type:Boolean,default:!0},withControls:{type:Boolean,default:!0},i18nScope:{type:String,default:null,coerce(...e){return this.i18nScope?this.i18nScope:this.entity||"default"}},cancelLabel:{type:String,default:"Cancel"},method:{type:String,default:"create"},cancelable:{type:Boolean,default:!0},value:{type:Object,default(){return{}}},formName:{type:String,default:null},entity:{type:String,default:null},entryId:{type:String,default:null},partialUpdate:{type:Boolean,default:!1},customSchema:{type:Object,default:null},login:{type:Boolean,default:!1},autoload:{type:Boolean,default:!0},appendValues:{type:Object,default(){return{}}}},data(){return{componentWrapper:"el-form-item",values:i.all([this.values||{},this.value]),formId:"an-id",entryRead:!1,disabled:!1}},computed:{loaded(){return this.schema&&(!this.autoload||this.autoload&&this.entryRead)},schema(){if(!this.customSchema&&(!this.entity||!this.$pleasure.entities||!this.$pleasure.entities[this.entity]))return[];const e=this.customSchema||this.$pleasure.entities[this.entity],a=[];return t(e,(e,t)=>{/^[_$]/.test(t)||s(e,"options.options.virtual")||0<=this.omit.indexOf(t)||a.push(this.toPleasureField(d(e,{path:t})))}),a}},watch:{values:{handler(e){this.$emit("input",Object.assign({},e,this.appendValues))},deep:!0}},async mounted(){if(this.autoload){if(this.entryId)try{this.$set(this,"values",(await this.$pleasure.api.read(this.entity,this.entryId)))}catch(e){this.$pleasure.error(e.message)}this.entryRead=!0}},methods:{dismiss(){},onCancel(){this.$emit("cancel")},toPleasureField(e){const t=a(e.path),s=[this.i18nScope?`${this.i18nScope}.placeholder.${t}`:null,this.i18nScope?`${this.i18nScope}.${t}`:null,`placeholders.${t}`].filter(e=>!!e),i=[this.i18nScope?`${this.i18nScope}.label.${t}`:null,this.i18nScope?`${this.i18nScope}.${t}`:null,`labels.${t}`].filter(e=>!!e);return e=d(e,{$pleasure:{}}),!e.$pleasure.hasOwnProperty("label")&&this.guessLabel&&(e.$pleasure.label=n(e.path)),!e.$pleasure.hasOwnProperty("placeholder")&&this.guessPlaceholder&&(e.$pleasure.placeholder=n(e.path)),!e.$pleasure.hasOwnProperty("label")&&this.autoLabelI18n&&(e.$pleasure.label=this.plsi18n(i,e.$pleasure.label)),!e.$pleasure.hasOwnProperty("placeholder")&&this.autoPlaceholderI18n&&(e.$pleasure.placeholder=this.plsi18n(s,e.$pleasure.placeholder)),e},performSubmit(){const e=Object.assign({},this.values,this.appendValues);if(this.controller)return this.$pleasure.api.controller(this.entity,this.controller,e);switch(this.method){case"create":return this.$pleasure.api.create(this.entity,e);case"update":return this.$pleasure.api.update(this.entity,this.entryId,e);}},async onSubmit(){try{this.login?await this.$pleasure.api.login(this.values):this.$emit("result",(await this.performSubmit()))}catch(e){this.$pleasure.error(e.message)}}}};var X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{pleasure:!0,"multiple-lines":e.multipleLines}},[e._t("header"),e._v(" "),a("pleasure-form",{attrs:{disabled:e.disabled,"form-id":e.formId,"i18n-scope":e.i18nScope}},[e.loaded?e._l(e.schema,function(t){return a("pleasure-field-container",{key:e.formId+"-"+t.path,attrs:{"i18n-scope":e.i18nScope,field:t}},[a("pleasure-field",{attrs:{field:t,"i18n-scope":e.i18nScope,"form-values":e.values},model:{value:e.values[t.path],callback:function(a){e.$set(e.values,t.path,a)},expression:"values[field.path]"}})],1)}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.loaded&&e.withControls?a("pleasure-form-controls",{attrs:{"v-bind":e.$props,"action-label":e.actionLabel,"cancel-label":e.cancelLabel,"action-callback":e.onSubmit,"cancel-callback":e.onCancel,cancelable:e.cancelable,method:e.method}}):e._e()],2)],2)};X._withStripped=!0;const z=y({render:X,staticRenderFns:[]},void 0,H,void 0,!1,void 0,!1,void 0,void 0,void 0);var Y=_(function(e){(function(t){var a;if(e.exports=t(),a=!0,!a){var n=window.Cookies,s=window.Cookies=t();s.noConflict=function(){return window.Cookies=n,s}}})(function(){function e(){for(var e,t=0,a={};t<arguments.length;t++)for(var n in e=arguments[t],e)a[n]=e[n];return a}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function s(){}function i(t,a,i){if("undefined"!=typeof document){i=e({path:"/"},s.defaults,i),"number"==typeof i.expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var r=JSON.stringify(a);/^[\{\[]/.test(r)&&(a=r)}catch(t){}a=n.write?n.write(a,t):encodeURIComponent(a+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+"").replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var o in i)i[o]&&(l+="; "+o,!0!==i[o])&&(l+="="+i[o].split(";")[0]);return document.cookie=t+"="+a+l}}function r(e,a){if("undefined"!=typeof document){for(var s={},r=document.cookie?document.cookie.split("; "):[],l=0;l<r.length;l++){var o=r[l].split("="),d=o.slice(1).join("=");a||"\""!==d.charAt(0)||(d=d.slice(1,-1));try{var c=t(o[0]);if(d=(n.read||n)(d,c)||t(d),a)try{d=JSON.parse(d)}catch(t){}if(s[c]=d,e===c)break}catch(t){}}return e?s[e]:s}}return s.set=i,s.get=function(e){return r(e,!1)},s.getJSON=function(e){return r(e,!0)},s.remove=function(t,a){i(t,"",e(a,{expires:-1}))},s.defaults={},s.withConverter=a,s}return a(function(){})})});const U={};process.client&&Y.get("accessToken")&&(console.log(`auto loading access token`,Y.get("accessToken")),U.accessToken=Y.get("accessToken"));var G=c.PleasureApiClient.instance(U);G.debug(!0);const Z={setLocale(e,t){e.locale=t},setDropdownLoading(e,t){0>e.dropdownLoading.indexOf(t)&&e.dropdownLoading.push(t)},removeDropdownLoading(e,t){const a=e.dropdownLoading.filter(e=>e!==t);p.set(e,"dropdownLoading",a)},setUser(e,t){p.set(e,"user",t)},setEntitiesSync(e,t){p.set(e,"entitiesSync",t)},setEntitiesSchema(e,a){t(a,e=>{t(e,(e,t)=>{/^\$/.test(t)||d(e,{$pleasure:{}})})}),p.set(e,"entitiesSchema",a)},setDropdown(e,{dropdownName:t,results:a,listOptions:n}){p.set(e.dropdown,t,a),p.set(e.dropdownMeta,t,n)},updateDropdown(e,{entity:t,modified:a,id:n}){const r=s(e,`dropdown.${t}`),l=f(r,{_id:n});if(l){const e=i(l,a);p.set(r,r.indexOf(l),e)}},clearDropdowns(e){Object.keys(e.dropdown).forEach(t=>{p.set(e.dropdown,t,void 0)})}},J={changeUserProfile({commit:e},t){return e("setUser",t)},async locale({commit:e},t){e("setlocale",t)},async dropdownChanged({commit:e},t={}){return e("updateDropdown",t)},async loadDropdown(e,{entity:t,listOptions:a,name:n,force:i=!1,req:s}={}){const{commit:r,state:l}=e;if(process.server&&s){const e=require("cookies"),t=new e(s).get("accessToken");G.setCredentials({accessToken:t})}const o=t||n,d=u({entity:t,listOptions:a,dropdownName:o});if(0<=l.dropdownLoading.indexOf(d))return;if(!i&&l.dropdown[o])return l.dropdown[o];r("setDropdownLoading",d);let c,p;try{c=await G.list(t,a)}catch(t){p=t}if(r("setDropdown",{dropdownName:o,results:c,listOptions:a}),r("removeDropdownLoading",d),p)throw p;return c},clearDropdowns({commit:e,state:t},{req:a}={}){return e("clearDropdowns")},logout(){return G.logout()},async syncEntities({commit:e,state:t},{force:a=!1}={}){if(!a&&0!==t.entitiesSync)return;e("setEntitiesSync",-1);let n;try{n=await G.getEntities()}catch(t){return void e("setEntitiesSync",0)}e("setEntitiesSchema",n),e("setEntitiesSync",1)}},K={entities(e){return e.entitiesSchema},dropdown(e){return e.dropdown},dropdownMeta(e){return e.dropdownMeta},settings(e){return e.settings},user(e){return e.user},locale(e){return e.locale}};var W=Object.freeze({__proto__:null,strict:!0,namespaced:!0,state:()=>({entitiesSync:0,entitiesSchema:{},dropdown:{},dropdownMeta:{},settings:process.env["$pleasure.settings"]||{},dropdownLoading:[],user:null,locales:["en","es"],locale:"en"}),mutations:Z,actions:J,getters:K});class Q{constructor({scope:t="pleasure",store:e,lifetime:a=1800}={}){this._store=e||window.sessionStorage,this._lifetime=1e3*a,this._scope=t,this._cached=[]}scope(e){return`${this._scope}-${e}`}req({id:e}){if(e){const t=this._store.getItem(this.scope(e));if(t){const{cached:a,res:n}=JSON.parse(t);return a+this._lifetime<=Date.now()?void this.clear(e):n}}}res({id:e,req:t,res:a}){if("undefined"!=typeof a&&"get"===t.method)return this._cached.push(e),this._store.setItem(this.scope(e),JSON.stringify({cached:Date.now(),res:a})),a}clear(e){this._store.removeItem(this.scope(e)),this._cached.splice(this._cached.indexOf(e),1)}clearAll(){for(;0<this._cached.length;)this.clear(this._cached[0])}}const ee=new p;var te={props:{initialZIndex:{type:Number,default:99}},data(){return{on:!1,full:!1,zIndex:this.initialZIndex,bindedResetFullState:this.resetFullState.bind(this)}},computed:{classes(){return{"back-drop":!0,full:this.full,on:this.on}}},mounted(){ee.$on("backdrop-on",this.open.bind(this)),ee.$on("backdrop-off",this.close.bind(this)),ee.$on("backdrop-toggle",this.toggle.bind(this))},methods:{resetFullState(){console.log(`resetFullState`),this.full=!1},open({zIndex:e,full:t}={}){this.$refs.backdrop.removeEventListener("animationend",this.bindedResetFullState),this.on=!0,this.zIndex=e||this.initialZIndex,this.full=!!t},close({zIndex:e}={}){this.$refs.backdrop.addEventListener("animationend",this.bindedResetFullState,{once:!0}),this.on=!1,this.zIndex=e||this.initialZIndex},toggle(e){this.on?this.close(e):this.open(e)}}};var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"backdrop",class:e.classes,style:{"z-index":e.zIndex}})};ae._withStripped=!0;const ne=y({render:ae,staticRenderFns:[]},void 0,te,void 0,!1,void 0,!1,void 0,void 0,void 0);var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pleasure-full-height-container"},[e._t("header"),e._v(" "),e._t("default")],2)};se._withStripped=!0;const ie=y({render:se,staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0);var re={props:{mainTitle:{type:String,default:""},position:{type:String,default:"top",validator:function(e){return-1!==["top","bottom"].indexOf(e)}}},data(){return{title:this.mainTitle}},watch:{$route(){this.setTitle(this.mainTitle)}},mounted(){ee.$on("pleasure-headbar",({exec:e})=>{e&&this[e[0]](...e.slice(1))})},methods:{setTitle(e){this.title=e}}};var le=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("header",{class:(e={headbar:!0},e[t.position]=!0,e)},[t._t("default",[t.title?n("h1",[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e()])],2)};le._withStripped=!0;const oe=y({render:le,staticRenderFns:[]},void 0,re,void 0,!1,void 0,!1,void 0,void 0,void 0);var de={props:{opened:{type:Boolean,default:!1},items:{type:Array,default:null},position:{type:String,default:"left",validator:function(e){return-1!==["left","right","center"].indexOf(e)}}},data(){return{isOpen:this.opened}},computed:{cls(){return{menu:!0,open:this.isOpen,[this.position]:!0}}},watch:{isOpen(e){this.$emit(e?"opened":"closed")}},methods:{toggle(){return this.isOpen=!this.isOpen},close(){this.isOpen=!1},open(){this.isOpen=!0}}};var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.cls},[e._t("head"),e._v(" "),a("el-menu",e._l(e.items,function(e,t){return a("pleasure-menu-item",{key:"menu-"+t,attrs:{index:"menu-"+t,item:e}})}),1)],2)};ce._withStripped=!0;const pe=y({render:ce,staticRenderFns:[]},void 0,de,void 0,!1,void 0,!1,void 0,void 0,void 0);var ue={props:{sideNavigation:{type:Boolean,default:!1},state:{type:String,default:"open"},xPosition:{type:String,default:"left",validator:function(e){return-1!==["left","right","center"].indexOf(e)}},yPosition:{type:String,default:"top",validator:function(e){return-1!==["top","bottom"].indexOf(e)}}},data(){return{theState:this.state,theSideNavigation:this.sideNavigation}},computed:{cls(){return{"menu-bars":!0,"side-navigation":this.theSideNavigation,[this.xPosition]:!0,[this.yPosition]:!0,[`state-${this.theState}`]:!0}}},methods:{setState(e){return this.theState=e},setSideNavigation(e){return this.theSideNavigation=e}}};var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bars",class:e.cls},[a("div"),e._v(" "),a("div")])};fe._withStripped=!0;const me=y({render:fe,staticRenderFns:[]},void 0,ue,void 0,!1,void 0,!1,void 0,void 0,void 0);var he={name:"MenuItem",props:{index:{type:String,required:!0},item:{type:Object,required:!0}},computed:{hasChildren(){return this.item.children&&0<this.item.children.length},menuItemProps(){const e={};return this.hasChildren&&(e.index=this.item.name),e}}};var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu-item"},[a(e.hasChildren?"el-submenu":"el-menu-item",{tag:"component",attrs:{index:e.index,"v-bind":e.menuItemProps}},[e.hasChildren?[a("template",{slot:"title"},[e.item.icon?a("i",{class:e.item.icon}):e._e(),e._v(" "),a("span",[e._v(e._s(e.item.name))])]),e._v(" "),e._l(e.item.children,function(t,n){return a("pleasure-menu-item",{key:e.item.name+"-"+n,attrs:{index:e.index+"-"+n,item:t}})})]:e.item.to?[a("nuxt-link",{attrs:{to:e.item.to}},[e._v("\n        "+e._s(e.item.name)+"\n      ")])]:[e._v("\n      "+e._s(e.item.name)+"\n    ")]],2)],1)};ve._withStripped=!0;const ye=y({render:ve,staticRenderFns:[]},void 0,he,void 0,!1,void 0,!1,void 0,void 0,void 0);var be={props:{menuItems:{type:Array,default(){return[{name:"Hello"},{name:"My"},{name:"Friend",children:[{name:"Martin"}]}]}},headbarPosition:{type:String,default:"top"},menuPosition:{type:String,default:"left"}},data(){return{menuOpened:!1}},watch:{$route(){this.closeMenu()}},computed:{openMenuGesture(){return"left"===this.menuPosition?"right":"center"===this.menuPosition?"up":"left"},closeMenuGesture(){return"left"===this.menuPosition?"left":"center"===this.menuPosition?"bottom":"right"}},mounted(){window.addEventListener("keydown",t=>{27===t.keyCode&&this.closeMenu()}),this.$pleasure.bus.$on("menu-close",()=>{this.closeMenu()})},methods:{openMenu(){this.$refs.bars.setState("close"),this.$refs.bars.setSideNavigation(!0),this.$refs.backdrop.open({full:!0}),this.$refs.menu.open()},closeMenu(){this.$refs.bars.setState("open"),this.$refs.bars.setSideNavigation(!1),this.$refs.backdrop.close(),this.$refs.menu.close()},toggleMenu(){const e=this.$refs.menu.toggle();e?this.openMenu():this.closeMenu()}}};var _e=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"mobile-app"},[n("pleasure-menu-bars",{directives:[{name:"touch",rawName:"v-touch:swipe[openMenuGesture].prevent",value:t.openMenu,expression:"openMenu",arg:"swipe[openMenuGesture]",modifiers:{prevent:!0}},{name:"touch",rawName:"v-touch:swipe[closeMenuGesture].prevent",value:t.closeMenu,expression:"closeMenu",arg:"swipe[closeMenuGesture]",modifiers:{prevent:!0}},{name:"touch",rawName:"v-touch:tap.prevent",value:t.toggleMenu,expression:"toggleMenu",arg:"tap",modifiers:{prevent:!0}}],ref:"bars",attrs:{"x-position":t.menuPosition,"y-position":t.headbarPosition}}),t._v(" "),n("pleasure-menu",{directives:[{name:"touch",rawName:"v-touch:swipe[closeMenuGesture].prevent",value:t.closeMenu,expression:"closeMenu",arg:"swipe[closeMenuGesture]",modifiers:{prevent:!0}}],ref:"menu",attrs:{items:t.menuItems,position:t.menuPosition},on:{opened:function(){t.menuOpened=!0},closed:function(){t.menuOpened=!1}}},[t._t("menu-head",null,{slot:"head"})],2),t._v(" "),n("pleasure-headbar",{class:{"pleasure-headbar-opener":!0,opened:t.menuOpened},attrs:{position:t.headbarPosition}},[t._t("menu-headbar",null,{slot:"head"})],2),t._v(" "),n("div",{class:(e={"headbar-background":!0},e[t.headbarPosition]=!0,e)}),t._v(" "),n("div",{class:{"mobile-app-body":!0,"pleasure-opener":!0,opened:t.menuOpened}},[n("pleasure-layout-mobile-app",{attrs:{"headbar-position":t.headbarPosition}},[t._t("default",[n("h1",[t._v("Always our Pleasure!")])])],2)],1),t._v(" "),n("pleasure-backdrop",{directives:[{name:"touch",rawName:"v-touch:swipe[closeMenuGesture].prevent.stop",value:t.closeMenu,expression:"closeMenu",arg:"swipe[closeMenuGesture]",modifiers:{prevent:!0,stop:!0}},{name:"touch",rawName:"v-touch:swipe.top.prevent.stop",arg:"swipe",modifiers:{top:!0,prevent:!0,stop:!0}},{name:"touch",rawName:"v-touch:swipe.bottom.prevent.stop",arg:"swipe",modifiers:{bottom:!0,prevent:!0,stop:!0}},{name:"touch",rawName:"v-touch:tap.stop",value:t.closeMenu,expression:"closeMenu",arg:"tap",modifiers:{stop:!0}}],ref:"backdrop",staticClass:"menu-backdrop"})],1)};_e._withStripped=!0;const ge=y({render:_e,staticRenderFns:[]},void 0,be,void 0,!1,void 0,!1,void 0,void 0,void 0);var $e={props:{headbarPosition:{type:String,default:"top"}}};var we=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{class:(e={"pleasure-layout-mobile-app":!0},e[t.headbarPosition]=!0,e)},[t._t("default")],2)};we._withStripped=!0;const Se=y({render:we,staticRenderFns:[]},void 0,$e,void 0,!1,void 0,!1,void 0,void 0,void 0);var Ce=Object.freeze({__proto__:null,PleasureBackdrop:ne,PleasureFullHeightContainer:ie,PleasureHeadbar:oe,PleasureLayoutDefault:ge,PleasureMenu:pe,PleasureMenuBars:me,PleasureMenuItem:ye,PleasureLayoutMobileApp:Se,PleasureTableEdit:B}),ke=_(function(e){function t(e){return-1===e.type.indexOf("mouse")?e.touches[0].clientX:e.clientX}function a(e){return-1===e.type.indexOf("mouse")?e.touches[0].clientY:e.clientY}var n=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(t){}return e}();e.exports={install:function(e,s){var h=Math.abs;function i(e){var n=this.$$touchObj,i=0<=e.type.indexOf("touch"),r=0<=e.type.indexOf("mouse"),l=this;i&&(n.lastTouchStartTime=e.timeStamp),r&&n.lastTouchStartTime&&350>e.timeStamp-n.lastTouchStartTime||n.touchStarted||(u(this),n.touchStarted=!0,n.touchMoved=!1,n.swipeOutBounded=!1,n.startX=t(e),n.startY=a(e),n.currentX=0,n.currentY=0,n.touchStartTime=e.timeStamp,n.touchHoldTimer=setTimeout(function(){p(e,l,"touchhold")},s.touchHoldTolerance),p(e,this,"start"))}function r(e){var n=this.$$touchObj;if(n.currentX=t(e),n.currentY=a(e),!n.touchMoved){var i=s.tapTolerance;n.touchMoved=h(n.startX-n.currentX)>i||h(n.startY-n.currentY)>i,n.touchMoved&&(m(n),p(e,this,"moved"))}else if(!n.swipeOutBounded){var r=s.swipeTolerance;n.swipeOutBounded=h(n.startX-n.currentX)>r&&h(n.startY-n.currentY)>r}n.touchMoved&&p(e,this,"moving")}function l(){var e=this.$$touchObj;m(e),f(this),e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function o(e){var t=this.$$touchObj,a=0<=e.type.indexOf("touch"),n=0<=e.type.indexOf("mouse");if(a&&(t.lastTouchEndTime=e.timeStamp),m(t),!(n&&t.lastTouchEndTime&&350>e.timeStamp-t.lastTouchEndTime))if(t.touchStarted=!1,f(this),p(e,this,"end"),!t.touchMoved)t.callbacks.longtap&&e.timeStamp-t.touchStartTime>s.longTapTimeInterval?(e.preventDefault(),p(e,this,"longtap")):p(e,this,"tap");else if(!t.swipeOutBounded){var i,r=s.swipeTolerance;i=h(t.startX-t.currentX)<r?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+i]?p(e,this,"swipe."+i,i):p(e,this,"swipe",i)}}function d(){u(this)}function c(){f(this)}function p(t,e,a,n){var s=e.$$touchObj,r=s.callbacks[a]||[];if(0===r.length)return null;for(var l,o=0;o<r.length;o++)(l=r[o],l.modifiers.stop&&t.stopPropagation(),l.modifiers.prevent&&t.preventDefault(),!(l.modifiers.self&&t.target!==t.currentTarget))&&"function"==typeof l.value&&(n?l.value(n,t):l.value(t))}function u(e){var t=e.$$touchClass||s.touchClass;t&&e.classList.add(t)}function f(e){var t=e.$$touchClass||s.touchClass;t&&e.classList.remove(t)}function m(e){e.touchHoldTimer&&(clearTimeout(e.touchHoldTimer),e.touchHoldTimer=null)}s=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:""},s||{}),e.directive("touch",{bind:function(e,t){e.$$touchObj=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1};var a=t.arg||"tap";switch(a){case"swipe":var p=t.modifiers;if(p.left||p.right||p.top||p.bottom){for(var u in t.modifiers)if(0<=["left","right","top","bottom"].indexOf(u)){var f="swipe."+u;e.$$touchObj.callbacks[f]=e.$$touchObj.callbacks[f]||[],e.$$touchObj.callbacks[f].push(t)}}else e.$$touchObj.callbacks.swipe=e.$$touchObj.callbacks.swipe||[],e.$$touchObj.callbacks.swipe.push(t);break;default:e.$$touchObj.callbacks[a]=e.$$touchObj.callbacks[a]||[],e.$$touchObj.callbacks[a].push(t);}if(!e.$$touchObj.hasBindTouchEvents){var m=!!n&&{passive:!0};e.addEventListener("touchstart",i,m),e.addEventListener("touchmove",r,m),e.addEventListener("touchcancel",l),e.addEventListener("touchend",o),s.disableClick||(e.addEventListener("mousedown",i),e.addEventListener("mousemove",r),e.addEventListener("mouseup",o),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",c)),e.$$touchObj.hasBindTouchEvents=!0}},unbind:function(e){e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",r),e.removeEventListener("touchcancel",l),e.removeEventListener("touchend",o),s.disableClick||(e.removeEventListener("mousedown",i),e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",o),e.removeEventListener("mouseenter",d),e.removeEventListener("mouseleave",c)),delete e.$$touchObj}}),e.directive("touch-class",{bind:function(e,t){e.$$touchClass=t.value},unbind:function(e){delete e.$$touchClass}})}}});console.log(`>>>pleasure-ui-vue`);return e.PleasureUiVue={install:g},e.pleasureApiClient=G,e}({},forOwn,kebabCase,startCase,get$1,merge,uniq,debounce,isEqual,defaults,apiClient,Vue,objectHash,find,CoercePropsMixin,Vuex,mapKeys);
