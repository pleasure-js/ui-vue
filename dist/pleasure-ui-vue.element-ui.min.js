/*!
 * @pleasure-js/ui-vue v1.0.0
 * (c) 2018-2020 Martin Rafael Gonzalez <tin@devtin.io>
 * Released under the MIT License.
 */
var ElementUiPleasure=function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';function m(a,b){let c=!0;return g(a,(a,d)=>{if(!f(a,h(b,d)))return c=!1,!1}),c}function n(a,b,c,d,e,f,g,h,i,j){"boolean"!=typeof g&&(i=h,h=g,g=!1);const k="function"==typeof c?c.options:c;a&&a.render&&(k.render=a.render,k.staticRenderFns=a.staticRenderFns,k._compiled=!0,e&&(k.functional=!0)),d&&(k._scopeId=d);let l;if(f?(l=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,a||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),b&&b.call(this,i(a)),a&&a._registeredComponents&&a._registeredComponents.add(f)},k._ssrRegister=l):b&&(l=g?function(a){b.call(this,j(a,this.$root.$options.shadowRoot))}:function(a){b.call(this,h(a))}),l)if(k.functional){const a=k.render;k.render=function(b,c){return l.call(c),a(b,c)}}else{const a=k.beforeCreate;k.beforeCreate=a?[].concat(a,l):[l]}return c}b=b&&b.hasOwnProperty("default")?b["default"]:b,c=c&&c.hasOwnProperty("default")?c["default"]:c,d=d&&d.hasOwnProperty("default")?d["default"]:d,e=e&&e.hasOwnProperty("default")?e["default"]:e,f=f&&f.hasOwnProperty("default")?f["default"]:f,g=g&&g.hasOwnProperty("default")?g["default"]:g,h=h&&h.hasOwnProperty("default")?h["default"]:h,i=i&&i.hasOwnProperty("default")?i["default"]:i,j=j&&j.hasOwnProperty("default")?j["default"]:j,k=k&&k.hasOwnProperty("default")?k["default"]:k,l=l&&l.hasOwnProperty("default")?l["default"]:l;var o={methods:{theLabel(a){const b=[`labels.${a}`,a];return this.i18nScope&&b.unshift(`${this.i18nScope}.label.${a}`),this.plsi18n(b,a)},theValue(a){return"object"==typeof a?h(a,this.optionsMap.value):a},getRealOptions(){let a=this.options,b=[];const c=a=>({value:this.getValue(a),label:this.label(a)});"string"==typeof a&&(a=this.$store.getters["pleasure/dropdown"][a],this.path&&(a=h(a,this.path))),b=Array.isArray(a)?a.map(c):d(a,c);let f=this.value;return"object"==typeof f&&(f=h(f,this.optionsMap?this.optionsMap.value:"_id")),this.sort&&b.sort((c,a)=>{const{labelA:b=""}=c,{labelB:d=""}=a;return b.toLowerCase()<d.toLowerCase()?-1:b.toLowerCase()>d.toLowerCase()?1:0}),this.selected=f,this.parsedFind&&(b=e(a,a=>m(this.parsedFind,a)).map(c)),b},setReadOnlyLabel(){const{selected:a}=this;"string"==typeof a&&0<this.realOptions.length&&console.log(`here`,{selected:a})},findOptionByValue(a){return c(this.realOptions,{value:a})},getValue(a){return"object"==typeof a?h(a,this.optionsMap.value):a},label(a){return this.labelResolve?this.labelResolve(a):"object"==typeof a?0<=this.optionsMap.label.indexOf("{")?k.render(this.optionsMap.label,a):(console.log(`label name`,this.optionsMap.label),h(a,this.optionsMap.label,this.selected)):a}},mounted(){this.setReadOnlyLabel(),this.$emit("input",this.theValue(this.value))},computed:{isNumber(){return"number"==typeof this.getValue(b(this.options)[0])},parsedFind(){return 1>j(this.find)?null:i(this.find,a=>{if(/^\$/.test(a)){const b=a.match(/^\$(.+)$/)[1];return h(this,"pleasureValues."+b)}return a})},key(){const a=[];return this.realOptions.forEach(b=>{a.push(b.label)}),l(a.join("-"))}},data(){let a=!1,b=this.theValue(this.value);return this.value&&this.otherAvailable&&!this.findOptionByValue(this.value)&&(a=!0,b=this.value),{selectedLabel:"",focused:!1,otherActive:a,selected:b,realOptions:this.getRealOptions()}}};const p="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var q=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{class:{"pleasure-select-container":!0,focused:a.focused}},[a.readonly||a.otherActive?a._e():[c("select",{key:a.key,staticClass:"pleasure-select",attrs:{name:a.name},on:{focus:function(){a.focused=!0},blur:function(){a.focused=!1},change:function(b){a.selected=b.target.value}}},[c("option",{attrs:{value:""}},[a._v("\n        [ "+a._s(a.placeholder)+" ]\n      ")]),a._v(" "),a._l(a.realOptions,function(b){return c("option",{key:b.value,domProps:{value:b.value,selected:a.selected===a.theValue(b.value)}},[a._v("\n        "+a._s(a.theLabel(b.label))+"\n      ")])}),a._v(" "),a.otherAvailable?c("option",{attrs:{value:":other:"}},[a._v("\n        "+a._s(a.$t(a.otherLabel))+"\n      ")]):a._e()],2)],a._v(" "),a.otherActive&&!a.readonly?c("el-input",{ref:"manual-input",attrs:{clearable:"",placeholder:a.$t(a.otherPlaceholder),value:a.selected},on:{input:function(b){a.selected=b},clear:function(){a.otherActive=!1},keyup:function(b){return!b.type.indexOf("key")&&a._k(b.keyCode,"esc",27,b.key,["Esc","Escape"])?null:void(a.otherActive=!1)},focus:function(){a.focused=!0},blur:function(){a.focused=!1}}}):a._e(),a._v(" "),a.readonly?c("el-input",{attrs:{readonly:"",value:a.selectedLabel}}):a._e()],2)};q._withStripped=!0;const r=n({render:q,staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);var s={props:{field:{type:Object,required:!0}},data(){return{value:[]}}};var t=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("el-select",{attrs:{multiple:"",placeholder:"Select"},on:{input:function(b){return a.$emit("input",b)}},model:{value:a.value,callback:function(b){a.value=b},expression:"value"}},a._l(a.options,function(a){return c("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)};t._withStripped=!0;const u=n({render:t,staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0),v=[];["AM","PM"].forEach(a=>{for(let b=1;12>=b;b++)v.push(`${b}${a}`)});var w={props:{value:{type:Object,default(){return{}}}},data(){return{schema:{date:{component:"Date",$pleasure:{label:""}},time:{enumValues:v,$pleasure:{label:""}}}}}};var x=function(){var a=this,b=a.$createElement,c=a._self._c||b;return c("div",{staticClass:"pleasure-date-time"},[c("pleasure",{attrs:{"custom-schema":a.schema,"with-controls":!1},on:{input:function(b){return a.$emit("input",b)}}})],1)};x._withStripped=!0;const y=n({render:x,staticRenderFns:[]},void 0,w,void 0,!1,void 0,!1,void 0,void 0,void 0);return a.install=function(a){a.mixin({components:{PleasureMultipleSelect:u,PleasureSelect:r,PleasureDateTime:y}})},a}({},castArray,find,map,filter,isEqual,forOwn,get,mapValues,size,mustache,md5);
